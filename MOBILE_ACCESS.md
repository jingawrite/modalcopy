# 모바일 웹 접근 설정 가이드

## 문제점

모바일 웹에서 맞춤법 검사 기능이 작동하지 않는 경우, 프론트엔드가 `localhost`를 사용하여 백엔드 서버에 접근하려고 하기 때문입니다.

## 해결 방법

### 자동 감지 (권장)

프론트엔드 코드가 개발 환경에서 자동으로 현재 호스트를 감지하도록 수정되었습니다. 이제 모바일에서도 자동으로 올바른 IP 주소를 사용합니다.

**작동 방식:**
- 개발 환경(`import.meta.env.DEV`)에서는 `window.location.hostname`을 사용하여 현재 호스트를 자동 감지
- 프로덕션 환경에서는 환경 변수 또는 localhost 사용

### 수동 설정

환경 변수를 사용하여 수동으로 설정할 수도 있습니다:

1. 프로젝트 루트에 `.env` 파일 생성:
```bash
VITE_SPELL_CHECK_API_URL=http://172.30.1.69:5001
```

2. 개발 서버 재시작:
```bash
npm run dev
```

**참고:** IP 주소는 네트워크에 따라 다를 수 있습니다. `ifconfig` 또는 `ipconfig` 명령어로 확인하세요.

## 네트워크 요구사항

1. **같은 네트워크**: 모바일 기기와 개발 서버가 같은 Wi-Fi 네트워크에 연결되어 있어야 합니다.

2. **방화벽**: 백엔드 서버 포트(5001)가 방화벽에서 차단되지 않아야 합니다.

3. **백엔드 서버 실행**: 백엔드 서버가 `0.0.0.0`에서 리스닝하고 있어야 합니다 (이미 설정됨).

## 테스트 방법

1. 개발 서버 실행:
```bash
npm run dev
```

2. 백엔드 서버 실행:
```bash
cd server
./start_background.sh
```

3. 모바일 기기에서 접근:
   - 개발 서버의 IP 주소로 접근 (예: `http://172.30.1.69:5173`)
   - 맞춤법 검사 기능 테스트

4. 브라우저 콘솔 확인:
   - 개발자 도구에서 "맞춤법 검사 API URL" 로그 확인
   - 올바른 IP 주소가 사용되는지 확인

## 문제 해결

### API 호출 실패

1. 백엔드 서버가 실행 중인지 확인:
```bash
ps aux | grep "python.*app.py" | grep -v grep
```

2. 포트가 열려있는지 확인:
```bash
lsof -i :5001
```

3. 네트워크 연결 확인:
   - 모바일과 컴퓨터가 같은 Wi-Fi에 연결되어 있는지 확인
   - 컴퓨터의 IP 주소 확인: `ifconfig` (macOS/Linux) 또는 `ipconfig` (Windows)

### CORS 오류

백엔드 서버의 CORS 설정이 이미 활성화되어 있습니다 (`CORS(app)`). 만약 CORS 오류가 발생하면:

1. 백엔드 서버 재시작
2. 브라우저 캐시 삭제
3. 개발 서버 재시작

## 현재 설정

- **백엔드 서버**: `0.0.0.0:5001`에서 리스닝 (모든 네트워크 인터페이스)
- **프론트엔드**: 개발 환경에서 자동 호스트 감지
- **CORS**: 활성화됨

